<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoSplit â€” Sign In</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body { display:flex; align-items:center; justify-content:center; min-height:100vh; padding:20px; }
        .auth-card { background:#fff; border-radius:20px; box-shadow:0 20px 60px rgba(0,0,0,.3); width:100%; max-width:440px; overflow:hidden; }
        .auth-header { background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); padding:36px 40px 28px; text-align:center; color:#fff; }
        .auth-header h1 { font-size:1.8em; margin-bottom:6px; }
        .auth-header p { opacity:.85; font-size:.95em; }
        .auth-body { padding:36px 40px; }
        .tab-row { display:flex; background:#f3f4f6; border-radius:10px; padding:4px; margin-bottom:28px; }
        .tab-btn { flex:1; padding:10px; border:none; background:transparent; border-radius:8px; font-weight:600; font-size:.95em; cursor:pointer; color:#6b7280; transition:all .2s; }
        .tab-btn.active { background:#fff; color:#667eea; box-shadow:0 2px 8px rgba(0,0,0,.08); }
        .form-group { margin-bottom:18px; }
        .form-group label { display:block; font-size:.85em; font-weight:600; color:#374151; margin-bottom:6px; }
        .form-group input { width:100%; padding:12px 16px; border:2px solid #e5e7eb; border-radius:10px; font-size:.95em; transition:border-color .2s; outline:none; }
        .form-group input:focus { border-color:#667eea; }
        .form-group input.error { border-color:#ef4444; }
        .field-error { color:#ef4444; font-size:.8em; margin-top:4px; display:none; }
        .auth-btn { width:100%; padding:14px; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; border:none; border-radius:10px;
            font-size:1em; font-weight:600; cursor:pointer; transition:all .2s; margin-top:8px; }
        .auth-btn:hover { transform:translateY(-1px); box-shadow:0 6px 20px rgba(102,126,234,.5); }
        .auth-btn:disabled { opacity:.6; cursor:not-allowed; transform:none; }
        .divider { display:flex; align-items:center; gap:12px; margin:20px 0; color:#9ca3af; font-size:.85em; }
        .divider::before,.divider::after { content:''; flex:1; height:1px; background:#e5e7eb; }
        .google-btn { width:100%; padding:12px; background:#fff; color:#374151; border:2px solid #e5e7eb; border-radius:10px;
            font-size:.95em; font-weight:600; cursor:pointer; display:flex; align-items:center; justify-content:center; gap:10px; transition:all .2s; }
        .google-btn:hover { border-color:#667eea; background:#f8f9ff; }
        .google-btn svg { width:20px; height:20px; }
        .auth-error { background:#fef2f2; border:1px solid #fecaca; color:#dc2626; padding:12px 16px; border-radius:10px; font-size:.9em; margin-bottom:16px; display:none; }
        .auth-footer { text-align:center; color:#6b7280; font-size:.85em; padding:0 40px 28px; }
        .auth-footer a { color:#667eea; font-weight:600; text-decoration:none; }
        .forgot-link { text-align:right; margin-top:-10px; margin-bottom:12px; }
        .forgot-link a { color:#667eea; font-size:.82em; text-decoration:none; font-weight:600; }
        .forgot-link a:hover { text-decoration:underline; }
        .tos-row { display:flex; align-items:flex-start; gap:10px; margin:12px 0 4px; }
        .tos-row input[type="checkbox"] { width:16px; height:16px; margin-top:2px; accent-color:#667eea; cursor:pointer; flex-shrink:0; }
        .tos-row label { font-size:.82em; color:#6b7280; cursor:pointer; line-height:1.4; }
        .tos-row a { color:#667eea; font-weight:600; text-decoration:none; }
        .tos-row a:hover { text-decoration:underline; }
        @media(max-width:480px) { .auth-body,.auth-header { padding:24px 24px; } }
    </style>
</head>
<body>
    <div class="auth-card">
        <div class="auth-header">
            <h1>ðŸŽ¬ VideoSplit</h1>
            <p>Split videos into segments in seconds</p>
        </div>
        <div class="auth-body">
            <div class="tab-row">
                <button class="tab-btn active" id="loginTab">Sign In</button>
                <button class="tab-btn" id="registerTab">Create Account</button>
            </div>

            <div id="authError" class="auth-error"></div>

            <!-- Login Form -->
            <form id="loginForm">
                <div class="form-group">
                    <label>Email address</label>
                    <input type="email" id="loginEmail" placeholder="you@example.com" autocomplete="email" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password" required>
                </div>
                <div class="forgot-link">
                    <a href="/static/forgot-password.html">Forgot password?</a>
                </div>
                <button type="submit" class="auth-btn" id="loginBtn">Sign In</button>
            </form>

            <!-- Register Form -->
            <form id="registerForm" style="display:none">
                <div class="form-group">
                    <label>Full name (optional)</label>
                    <input type="text" id="regName" placeholder="Jane Smith" autocomplete="name">
                </div>
                <div class="form-group">
                    <label>Email address</label>
                    <input type="email" id="regEmail" placeholder="you@example.com" autocomplete="email" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="regPassword" placeholder="Min. 8 characters" autocomplete="new-password" required>
                </div>
                <div class="form-group">
                    <label>Confirm password</label>
                    <input type="password" id="regConfirm" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="new-password" required>
                    <div class="field-error" id="confirmError">Passwords do not match</div>
                </div>
                <div class="tos-row">
                    <input type="checkbox" id="tosCheck">
                    <label for="tosCheck">I agree to the <a href="/static/terms.html" target="_blank">Terms of Service</a> and <a href="/static/privacy.html" target="_blank">Privacy Policy</a></label>
                </div>
                <button type="submit" class="auth-btn" id="registerBtn">Create Account</button>
            </form>

            <!-- Email Verification Step (shown after registration) -->
            <div id="verifySection" style="display:none">
                <div style="text-align:center;margin-bottom:24px">
                    <div style="font-size:2.5em;margin-bottom:10px">ðŸ“§</div>
                    <h3 style="color:#374151;font-size:1.15em;font-weight:700;margin-bottom:8px">Check your email</h3>
                    <p style="color:#6b7280;font-size:.9em;line-height:1.5">We sent a 6-digit code to<br><strong id="verifyEmailDisplay" style="color:#374151"></strong></p>
                </div>
                <div class="form-group">
                    <label>Verification code</label>
                    <input type="text" id="verifyCodeInput" placeholder="000000" maxlength="6"
                        inputmode="numeric" autocomplete="one-time-code"
                        style="letter-spacing:.35em;text-align:center;font-size:1.4em;font-weight:700">
                </div>
                <div id="verifyError" class="auth-error"></div>
                <button type="button" class="auth-btn" id="verifySubmitBtn">Verify &amp; Sign In</button>
                <div style="text-align:center;margin-top:14px">
                    <button type="button" id="resendVerifyBtn"
                        style="background:none;border:none;color:#667eea;font-size:.85em;cursor:pointer;font-weight:600;text-decoration:underline">
                        Resend code
                    </button>
                    <span id="resendCooldown" style="display:none;color:#9ca3af;font-size:.85em"></span>
                </div>
            </div>

            <div id="oauthDivider" class="divider">or</div>

            <button class="google-btn" id="googleBtn">
                <svg viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
                Continue with Google
            </button>
        </div>
        <div class="auth-footer">
            <a href="/static/plans.html">View pricing</a> &nbsp;Â·&nbsp; <a href="/">Back to app</a>
            &nbsp;Â·&nbsp; <a href="/static/terms.html">Terms</a> &nbsp;Â·&nbsp; <a href="/static/privacy.html">Privacy</a>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="auth.js"></script>
</body>
</html>
